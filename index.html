<html>

<head>

<title>Code Strife</title>
<link href="./style.css" rel="stylesheet" type="text/css" />

</head>

<body>

<div id="languagebar">

  <div id="java">JAVA_IMAGE</div>
  
  <div id="C">C_IMAGE</div>
    
    
</div> <!-- close languages -->


<div id="main">
    
    <div id="code">
        Tähän tulee koodia.
    </div> <!-- close code -->
    
    <div id="upgrades">
        <img id="autocomplete" src="/images/autocomplete.png" alt="AUTOCOMPLETE_IMAGE"/>
        <img src="/images/autocomplete.png" alt="AUTOCOMPLETE_IMAGE"/>
        <img src="/images/autocomplete.png" alt="AUTOCOMPLETE_IMAGE"/>
        <img src="/images/autocomplete.png" alt="AUTOCOMPLETE_IMAGE"/>
    </div>
    
</div> <!-- close main -->



<div id="footer">
    
    <div id="lines_total">
         Counter.
    </div>
    
</div> <!-- close footer -->





<div id="lpm"></div>


<!-- JavaScripts -->
<script src="jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/code.js"></script>
<script src= "d3.min.js"></script>
<script src="/barchart.js"></script>

<script>
  $("#button").click( function() {
	console.log('holy fuck we clicked something');
	socket.emit('button click', { hei: 'moi'});
  });
  
    $("#autocomplete").click( function() {
    console.log('Bought autocomplete');
	boughtAutoComplete();
  });

  var socket = io.connect(window.location.hostname);
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });

  //	Send code lines to server
  var lastLines = lines;
  function sendLines() {
    socket.emit('sendLines', (lines - lastLines));
    updateBarChart((lines - lastLines));
    lastLines = lines;
  }
  setInterval(sendLines, 1000);

  //	Counter updater from server
  socket.on('counter', function(data) {
    console.log("Counter: " + data);
    updateCounter(data);
  });

  function updateCounter(a) {
    $("#lines_total").empty();
    $("#lines_total").append(a);
  }
  
  //    Keep code DIV scrolled to bottom.
  
  function updateScroll(){
    var codediv = document.getElementById("code");
    codediv.scrollTop = codediv.scrollHeight;
  }

</script>
</body>

</html>
